<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Console - Smart Analytics</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }

        #auth-container {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            overflow: hidden;
            position: relative;
        }

        #auth-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 2rem 2rem;
            animation: move-background 120s linear infinite;
        }

        @keyframes move-background {
            0% { transform: translate(0, 0); }
            100% { transform: translate(20rem, 20rem); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            transition: transform 0.5s ease, opacity 0.5s ease;
        }

        .form-container {
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }

        .form-container.hidden {
            opacity: 0;
            transform: translateX(20px);
            pointer-events: none;
            position: absolute;
        }

        .admin-nav-link {
            display: flex;
            align-items: center;
            padding: 12px 18px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #E5E7EB; /* gray-200 */
        }
        
        .admin-nav-link:hover {
          background: rgba(255, 255, 255, 0.1);
        }

        .admin-nav-link.active {
          background: linear-gradient(90deg, #3b82f6, #6366f1);
          color: #fff;
          font-weight: 600;
        }

        .admin-nav-link i { width: 1.5rem; }

        .admin-content { display: none; }
        .admin-content.active { display: block; animation: fadeIn 0.5s ease; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .table th, .table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #374151; /* gray-700 */
        }
        
    </style>
</head>
<body class="bg-gray-900 text-gray-200">

    <!-- Auth Container -->
    <div id="auth-container" class="flex items-center justify-center min-h-screen">
        <div class="w-full max-w-md p-4">
            <div class="glass-card p-8">
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold text-white">⚽ Smart Analytics Console</h1>
                    <p class="text-gray-300 mt-2">Intelligent Football Insights</p>
                </div>

                <!-- Login Form -->
                <div id="login-form-container" class="form-container">
                    <form id="login-form">
                        <h2 class="text-2xl font-semibold text-white text-center mb-6">Login</h2>
                        <div id="login-error" class="bg-red-500 bg-opacity-50 border border-red-700 text-white px-4 py-2 rounded-lg relative mb-4 hidden" role="alert"></div>
                        <div class="mb-4">
                            <input class="bg-gray-700 bg-opacity-50 border border-gray-600 rounded-lg w-full py-3 px-4 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="login-email" type="email" placeholder="Email" required>
                        </div>
                        <div class="mb-6">
                            <input class="bg-gray-700 bg-opacity-50 border border-gray-600 rounded-lg w-full py-3 px-4 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="login-password" type="password" placeholder="Password" required>
                        </div>
                        <div class="flex items-center justify-between mb-4">
                           <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition duration-300" type="submit">Login Now</button>
                        </div>
                         <a id="forgot-password-link" class="inline-block align-baseline text-sm text-blue-400 hover:text-blue-300" href="#">Forgot Password?</a>
                        <p class="text-center text-gray-400 text-sm mt-6">
                            Don't have an account? <a id="show-signup-link" class="font-bold text-blue-400 hover:text-blue-300" href="#">Sign up</a>
                        </p>
                    </form>
                </div>

                <!-- Signup Form -->
                <div id="signup-form-container" class="form-container hidden">
                     <form id="signup-form">
                        <h2 class="text-2xl font-semibold text-white text-center mb-6">Create Account</h2>
                         <div id="signup-error" class="bg-red-500 bg-opacity-50 border border-red-700 text-white px-4 py-2 rounded-lg relative mb-4 hidden" role="alert"></div>
                        <div class="mb-4">
                            <input class="bg-gray-700 bg-opacity-50 border border-gray-600 rounded-lg w-full py-3 px-4 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="signup-name" type="text" placeholder="Full Name" required>
                        </div>
                        <div class="mb-4">
                             <input class="bg-gray-700 bg-opacity-50 border border-gray-600 rounded-lg w-full py-3 px-4 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="signup-email" type="email" placeholder="Email" required>
                        </div>
                        <div class="mb-6">
                            <input class="bg-gray-700 bg-opacity-50 border border-gray-600 rounded-lg w-full py-3 px-4 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="signup-password" type="password" placeholder="Password" required>
                        </div>
                        <div class="flex items-center justify-center mb-4">
                            <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition duration-300" type="submit">Create Account</button>
                        </div>
                         <p class="text-center text-gray-400 text-sm mt-6">
                            Already have an account? <a id="show-login-link" class="font-bold text-blue-400 hover:text-blue-300" href="#">Back to Login</a>
                        </p>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin App Container -->
    <div id="admin-app" class="hidden">
        <div class="flex h-screen">
            <nav id="admin-nav" class="w-64 bg-gray-800 p-4 space-y-2 flex-shrink-0">
                 <div class="text-center mb-8">
                    <h1 class="text-xl font-bold text-white">⚽ Admin Panel</h1>
                 </div>
                <a href="#" class="admin-nav-link active" data-target="dashboard-content"><i class="fas fa-chart-pie"></i><span>Dashboard</span></a>
                <a href="#" class="admin-nav-link" data-target="users-content"><i class="fas fa-users"></i><span>Users</span></a>
                <a href="#" class="admin-nav-link" data-target="emails-content"><i class="fas fa-envelope"></i><span>Emails</span></a>
                <a href="#" class="admin-nav-link" data-target="reports-content"><i class="fas fa-file-alt"></i><span>Reports</span></a>
            </nav>

            <div class="flex-1 flex flex-col">
                <header class="bg-gray-800 shadow-md p-4 flex justify-between items-center border-b border-gray-700">
                    <div><!-- Can add breadcrumbs or page title here --></div>
                    <div class="flex items-center">
                        <span id="user-email" class="text-sm text-gray-400 mr-4"></span>
                        <a href="index.html" class="text-sm text-blue-400 hover:underline mr-4">View Main App</a>
                        <button id="logout-btn" class="bg-red-600 hover:bg-red-700 text-white text-sm font-bold py-2 px-3 rounded-lg">Logout</button>
                    </div>
                </header>
                <main class="flex-1 p-8 overflow-y-auto">
                    <!-- Dashboard Content -->
                    <div id="dashboard-content" class="admin-content active">
                        <h2 class="text-3xl font-bold mb-6 text-white">Dashboard</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700">
                                <h3 class="text-lg font-semibold text-gray-400">Total Users</h3>
                                <p id="total-users-stat" class="text-4xl font-bold text-white">0</p>
                            </div>
                            <div class="bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700">
                                <h3 class="text-lg font-semibold text-gray-400">Scheduled Reports</h3>
                                <p id="scheduled-reports-stat" class="text-4xl font-bold text-white">0</p>
                            </div>
                            <div class="bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700">
                                <h3 class="text-lg font-semibold text-gray-400">Admin Actions Log</h3>
                                <p class="text-4xl font-bold text-white">...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Users Content -->
                    <div id="users-content" class="admin-content">
                        <h2 class="text-3xl font-bold mb-6 text-white">User Management</h2>
                        <div class="bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700">
                            <table class="w-full text-left table">
                                <thead class="border-b border-gray-600">
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Role</th>
                                        <th>Active</th>
                                        <th>Last Login</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="users-table-body">
                                    <!-- User rows will be inserted here -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Emails Content -->
                    <div id="emails-content" class="admin-content">
                         <h2 class="text-3xl font-bold mb-6 text-white">Email Integration</h2>
                         <p>Configuration for sending emails (Gmail API or Apps Script). UI to be built here.</p>
                    </div>

                    <!-- Reports Content -->
                    <div id="reports-content" class="admin-content">
                         <h2 class="text-3xl font-bold mb-6 text-white">Report Builder & Scheduler</h2>
                         <p>UI for creating, scheduling, and managing reports to be built here.</p>
                    </div>
                </main>
            </div>
        </div>
    </div>
    
    <!-- Modals -->
    <div id="user-modal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50">
        <div class="bg-gray-800 rounded-lg w-full max-w-lg p-6 border border-gray-700">
            <h3 class="text-xl font-bold mb-4 text-white" id="user-modal-title">Edit User</h3>
            <form id="user-edit-form">
                <input type="hidden" id="user-id-input">
                 <div class="mb-4">
                    <label class="block text-gray-400 text-sm font-bold mb-2" for="user-name-input">Full Name</label>
                    <input class="bg-gray-700 border border-gray-600 rounded-lg w-full py-2 px-3" id="user-name-input" type="text">
                </div>
                 <div class="mb-4">
                    <label class="block text-gray-400 text-sm font-bold mb-2" for="user-role-select">Role</label>
                    <select id="user-role-select" class="bg-gray-700 border border-gray-600 rounded-lg w-full py-2 px-3">
                        <option value="Customer">Customer</option>
                        <option value="Normal">Normal</option>
                        <option value="Admin">Admin</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-400 text-sm font-bold mb-2">Allowed Tabs</label>
                    <div id="user-tabs-checkboxes" class="grid grid-cols-2 gap-2">
                        <!-- Checkboxes will be inserted here -->
                    </div>
                </div>
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" id="user-modal-close" class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg">Cancel</button>
                    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="toast-notification" class="fixed bottom-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg hidden animate-pulse">
        <p>Action successful!</p>
    </div>


    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="admin.js"></script>
</body>
</html>

